<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Slider extends CI_Controller {    function __construct() {        parent::__construct();        $this->load->model('slider_model', 'slider');    }    public function index() {        $data['Module'] = "Slider";        $data['sliderData'] = $this->slider->getData();        $this->load->view('templates/header', $data);        $this->load->view('slider/view', $data);        $this->load->view('templates/footer', $data);    }    public function edit() {        $data['action'] = "edit";        $data['Module'] = "Slider";        $slider_id = $this->uri->segment(3);        $data['sliderData'] = $this->slider->getDataByID($slider_id);        $this->load->view('templates/header', $data);        $this->load->view('slider/addedit', $data);        $this->load->view('templates/footer', $data);    }    public function delete() {        $slider_id = $this->uri->segment(3);        $this->slider->delete($slider_id);        $this->session->set_flashdata('DeleteSuccMsg', 'Slider has been deleted successfully.');        redirect(base_url() . 'slider');    }    function add() {        $data['action'] = "add";        $data['Module'] = "Slider";        $this->load->view('templates/header', $data);        $this->load->view('slider/addedit', $data);        $this->load->view('templates/footer', $data);    }    function addedit() {        $action = $this->input->post('action');        $slider_name = $this->input->post('slider_name');        $slider_desc = $this->input->post('slider_desc');        if ($action == "add") {            $upload_data = $this->slider->upload('slider_image', $_FILES['slider_image']['name']);            if (!empty($upload_data['error'])) {                $error_msg = $upload_data['error'];                print_r($error_msg);                die;                return $upload_data;            } else {                $slider_image = $upload_data['file_name'];                $data = array(                    'slider_id' => '',                    'slider_name' => $slider_name,                    'slider_desc' => $slider_desc,                    'slider_image' => $slider_image,                    'created_at' => date("Y-m-d H:i:s"),                    'slider_is_deleted' => 0                );                $this->slider->insert($data);                $insert_slider_id = $this->db->insert_id();                $this->session->set_flashdata('AddSuccMsg', 'Slider has been added successfully.');                redirect(base_url() . 'slider');            }        } elseif ($action == "edit") {            if (!empty($_FILES['slider_image']['name'])) {                $upload_data = $this->slider->upload('slider_image', $_FILES['slider_image']['name']);                if (!empty($upload_data['error'])) {                    $error_msg = $upload_data['error'];                    print_r($error_msg);                    die;                    return $upload_data;                } else {                    $slider_id = $this->input->post('slider_id');                    $slider_image = $upload_data['file_name'];                    $data = array(                        'slider_name' => $slider_name,                        'slider_desc' => $slider_desc,                        'slider_image' => $slider_image,                        'created_at' => date("Y-m-d H:i:s"),                        'slider_is_deleted' => 0                    );                    $this->slider->update($slider_id, $data);                    $this->session->set_flashdata('EditSuccMsg', 'Slider has been updated successfully.');                    redirect(base_url() . 'slider/edit/1');                }            } else {                $slider_id = $this->input->post('slider_id');                $data = array(                    'slider_name' => $slider_name,                    'slider_desc' => $slider_desc,                    'created_at' => date("Y-m-d H:i:s"),                    'slider_is_deleted' => 0                );                $this->slider->update($slider_id, $data);                $this->session->set_flashdata('EditSuccMsg', 'Slider has been updated successfully.');                redirect(base_url() . 'slider/edit/1');            }        }        $data['Module'] = "Slider";        $data['sliderData'] = $this->slider->getData();        $this->load->view('templates/header', $data);        $this->load->view('slider/view', $data);        $this->load->view('templates/footer', $data);    }}?>