<?php if (!defined('BASEPATH'))    exit('No direct script access allowed');class Client_testimonial extends CI_Controller {    function __construct() {        parent::__construct();        $this->load->model('client_testimonial_model', 'client_testimonial');    }    public function index() {        $data['Module'] = "Client Testimonials";        $data['client_testimonialData'] = $this->client_testimonial->getData();        $this->load->view('templates/header', $data);        $this->load->view('clients_testimonial/view', $data);        $this->load->view('templates/footer', $data);    }    public function delete() {        $id = $this->uri->segment(3);        $this->client_testimonial->delete($id);        $this->session->set_flashdata('DeleteSuccMsg', 'Client Testimonial has been deleted successfully.');        redirect(base_url() . 'client_testimonial');    }    function addedit($id = 0){		$data = array();        if ($id) {            $clients_testimonialData = $this->client_testimonial->getDataByID($id);            if (!empty($clients_testimonialData))                $data = $clients_testimonialData;            else                redirect('client_testimonial');			$data['action'] = "edit";        } else{            $data['action'] = "add";		}				if ($this->input->post()) {            $data = array(                'name' => $this->input->post('name'),                'place' => $this->input->post('place'),                'description' => $this->input->post('description'),                'is_view' => $this->input->post('is_view'),                'updated_at' => date("Y-m-d H:i:s")            );						$this->form_validation->set_rules('name', 'Full Name', 'trim|required');			$this->form_validation->set_rules('place', 'Place', 'trim|required');			$this->form_validation->set_rules('description', 'Description', 'trim|required');			if ($this->form_validation->run() === TRUE) {				$id = $this->input->post('id');				if ($id) { /* Edit Data */					$optresult = $this->client_testimonial->update($id, $data);					$action = "updated";				} else { /* Add Data */					$data['created_at'] = date("Y-m-d H:i:s");					$optresult = $this->client_testimonial->insert($data);					$action = "added";				}				if ($optresult){					$this->session->set_flashdata('addUpdMsg', "Client Testimonial is " . $action . " successfully");				}else{					$this->session->set_flashdata('addUpdMsg', "Client Testimonial is not " . $action . " successfully");				}				redirect('client_testimonial');			} else {				$this->session->set_flashdata('addUpdMsg', validation_errors());				redirect('client_testimonial');			}        }		        $data['Module'] = "Client Testimonial";        $this->load->view('templates/header', $data);        $this->load->view('clients_testimonial/addedit', $data);        $this->load->view('templates/footer', $data);    }}?>